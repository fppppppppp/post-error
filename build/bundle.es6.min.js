Object.defineProperty(exports,"__esModule",{value:!0});let n={clientType:"1"};function t(){const t=function(){for(var n=[],t="0123456789abcdef",e=0;e<36;e++)n[e]=t.substr(Math.floor(16*Math.random()),1);return n[14]="4",n[19]=t.substr(3&n[19]|8,1),n[8]=n[13]=n[18]=n[23]="-",n.join("")}();n.uid=t}function e(){return n.uid||t(),n}const r=()=>{const{agent:n,version:t,name:e,isIE:r,isGecko:i,isWebkit:o,isStrict:c}=(()=>{var n=window.document,t=window.navigator.userAgent.toLowerCase(),e=n.documentMode,r=window.chrome||!1,i={agent:t,isIE:/msie/.test(t),isGecko:t.indexOf("gecko")>0&&t.indexOf("like gecko")<0,isWebkit:t.indexOf("webkit")>0,isStrict:"CSS1Compat"===n.compatMode,supportSubTitle:function(){return"track"in n.createElement("track")},supportScope:function(){return"scoped"in n.createElement("style")},ieVersion:function(){try{return t.match(/msie ([\d.]+)/)[1]||0}catch(n){return console.log("error"),e}},operaVersion:function(){try{if(window.opera)return t.match(/opera.([\d.]+)/)[1];if(t.indexOf("opr")>0)return t.match(/opr\/([\d.]+)/)[1]}catch(n){return console.log("error"),0}},versionFilter:function(...n){if(1===n.length&&"string"==typeof n[0]){var t=n[0],e=t.indexOf(".");if(e>0){var r=t.indexOf(".",e+1);if(-1!==r)return t.substr(0,r)}return t}return 1===n.length?n[0]:0}};try{i.type=i.isIE?"IE":window.opera||t.indexOf("opr")>0?"Opera":t.indexOf("chrome")>0?"Chrome":window.openDatabase?"Safari":t.indexOf("firefox")>0?"Firefox":"unknow",i.version="IE"===i.type?i.ieVersion():"Firefox"===i.type?t.match(/firefox\/([\d.]+)/)[1]:"Chrome"===i.type?t.match(/chrome\/([\d.]+)/)[1]:"Opera"===i.type?i.operaVersion():"Safari"===i.type?t.match(/version\/([\d.]+)/)[1]:"0",i.shell=function(){if(t.indexOf("maxthon")>0)return i.version=t.match(/maxthon\/([\d.]+)/)[1]||i.version,"傲游浏览器";if(t.indexOf("qqbrowser")>0)return i.version=t.match(/qqbrowser\/([\d.]+)/)[1]||i.version,"QQ浏览器";if(t.indexOf("se 2.x")>0)return"搜狗浏览器";if(r&&"Opera"!==i.type){var n=window.external,e=window.clientInformation.languages;if(n&&"LiebaoGetVersion"in n)return"猎豹浏览器";if(t.indexOf("bidubrowser")>0)return i.version=t.match(/bidubrowser\/([\d.]+)/)[1]||t.match(/chrome\/([\d.]+)/)[1],"百度浏览器";if(i.supportSubTitle()&&void 0===e){var o=Object.keys(r.webstore).length;return window,o>1?"360极速浏览器":"360安全浏览器"}return"Chrome"}return i.type},i.name=i.shell(),i.version=i.versionFilter(i.version)}catch(n){console.log(n)}return{client:i}})().client;return{agent:n,version:t,name:e,isIE:r,isGecko:i,isWebkit:o,isStrict:c}};function i(){let n=navigator.userAgent,t="Win32"==navigator.platform||"Windows"==navigator.platform,e="Mac68K"==navigator.platform||"MacPPC"==navigator.platform||"Macintosh"==navigator.platform||"MacIntel"==navigator.platform;if(e)return"Mac";if("X11"==navigator.platform&&!t&&!e)return"Unix";if(String(navigator.platform).indexOf("Linux")>-1)return"Linux";if(t){if(n.indexOf("Windows NT 5.0")>-1||n.indexOf("Windows 2000")>-1)return"Win2000";if(n.indexOf("Windows NT 5.1")>-1||n.indexOf("Windows XP")>-1)return"WinXP";if(n.indexOf("Windows NT 5.2")>-1||n.indexOf("Windows 2003")>-1)return"Win2003";if(n.indexOf("Windows NT 6.0")>-1||n.indexOf("Windows Vista")>-1)return"WinVista";if(n.indexOf("Windows NT 6.1")>-1||n.indexOf("Windows 7")>-1)return"Win7";if(n.indexOf("Windows NT 10")>-1||n.indexOf("Windows 10")>-1)return"Win10"}return"other"}const o=()=>{const n=window.performance.timing||{},t=window.screen.colorDepth,e=window.document.referrer,r=navigator.language;return{performance:n,timsDns:n.domainLookupEnd-n.domainLookupStart,timsTcp:n.connectEnd-n.connectStart,timsWhiteScreen:n.responseStart-n.navigationStart,timsDomLoad:n.domContentLoadedEventEnd-n.navigationStart,timsLoad:n.loadEventEnd-n.navigationStart,lang:r,referrer:e,cd:t}},c=()=>{const n={height:window.screen.height,width:window.screen.width},t={innerWidth:window.innerWidth||window.document.body&&window.document.body.clientWidth||"UNKONW",innerHeight:window.innerHeight||window.document.body&&window.document.body.clientHeight||"UNKONW"};return{zoom:(e=0,o=window.screen,c=navigator.userAgent.toLowerCase(),~c.indexOf("firefox")?void 0!==window.devicePixelRatio&&(e=window.devicePixelRatio):~c.indexOf("msie")?o.deviceXDPI&&o.logicalXDPI&&(e=o.deviceXDPI/o.logicalXDPI):void 0!==window.outerWidth&&void 0!==window.innerWidth&&(e=window.outerWidth/window.innerWidth),e&&(e=Math.round(100*e)),99!==e&&101!==e||(e=100),e),os:i(),browserinfo:r(),windowScreen:n,windowWidthHeights:t};var e,o,c};const s={};function u(n,t){s[n]||(s[n]=[]),s[n].push(t)}function a(n,...t){let e=s[n];if(!e||0===e.length)return!1;e.forEach(n=>{n.apply(this,t)})}let w="http://127.0.0.1:7002/";u("changeUrl",n=>{w=n});const d=function(n,t="er"){const r=document.createElement("img"),i=function(n){let t=[];const r=function(){let n=e();const{userid:t,uid:r,projectInfo:i,clientType:o}=n;let c={t:r,i:o,o:i};t&&(c.u=t);return c}(),i=Object.assign(Object.assign({},n),r);for(let n in i){let e=i[n];"object"==typeof e&&(e=JSON.stringify(e)),t.push(`${n}=${e}`)}return t.push("_t="+ +new Date),"?"+t.join("&")}(Object.assign(Object.assign({},n),{l:t})),o=w+"pr/e.gif"+i;r.src=o};const f=d,l={url:"http://127.0.0.1:7002/",delay:1e3,mergeReport:!0,random:1,repeat:20};function p(t){Object.assign(l,t);const{projectId:e,userId:r,clientType:i,url:o}=l;var c;e&&(c=e,n.projectInfo=c),r&&function(t){n.userid=t}(r),i&&function(t){n.clientType=t}(i),o&&a("changeUrl",o),i&&(l.clientType=i),f(h(),"lo")}function h(){return{inf:{os:{...c(),...o()}}}}function m(){return l}let g=!1;function v(){if(!g){!function(n){let t=w+"cl";navigator.sendBeacon(t,n)}(function(){const n=e(),{uid:t}=n;return new Blob([`_uu=${t}&_t=${+new Date}`],{type:"application/x-www-form-urlencoded"})}()),g=!0}}const b={};function W(n,t,e=-1){return!(e>0&&b[n]&&b[n].length>e)&&(function(n,t){b[n]||(b[n]={data:"",length:0,times:[]}),t&&(b[n].data=t),b[n].length++,b[n].times.push(+new Date)}(n,t),Object.assign(Object.assign({},b[n]),{length:b[n].length}))}let x=null;const k=[];function S(n,t=""){const e=n+t,{name:r,message:i,stack:o}=n,c=n.constructor&&n.constructor.name||"unkonw";let s={name:r,message:i,stack:o,errStr:e,errorType:c,time:+new Date};const u=W(e,s,function(){const n=m(),{repeat:t}=n;return"number"==typeof t&&t>0?t:-1}());if(u){if(u.length>1){let n=k.findIndex(n=>n.data.errStr===e);n>-1?k[n]=u:u&&k.push(u)}else u&&k.push(u);a("onErrorPush")}}function y(){if(!k.length)return;const n=k.slice(0);k.length=0,d({list:n},"er")}function j(){!function(){const n=m(),{delay:t}=n;u("onErrorPush",()=>{t&&t>0?x||(x=setInterval(()=>{y()},t)):x&&(clearInterval(x),x=null,y())})}()}class E extends Error{constructor(n,t){super(),this.message=n,this.name=t}}class O extends E{}class T extends E{}function L(){window.onerror=function(n,t,e,r,i){"Script error."!==n&&t&&S(i)},window.addEventListener("unhandledrejection",n=>{if("object"==typeof n.reason)S(n.reason,"未处理的 unhandledrejection 事件 --- ");else{let t="string"==typeof n.reason?n.reason:JSON.stringify(n.reason);S(new T(t,"unhandledrejection"))}}),window.addEventListener("error",n=>{let t=null;n.target instanceof HTMLScriptElement&&(t=new O(n.target.src,"LoadScriptError")),n.target instanceof HTMLLinkElement&&(t=new O(n.target.href,"LoadLinkError")),n.target instanceof HTMLImageElement&&(t=new O(n.target.src,"LoadLinktError")),t&&S(t)},!0),function(){if(!window.Vue||!window.Vue.config)return;let n=window.Vue.config.errorHandler;window.Vue.config.errorHandler=function(t,e,r){S(t),"function"==typeof n&&n.call(this,t,e,r)}}()}function I(){window.addEventListener("beforeunload",n=>{v()}),window.addEventListener("unload",n=>{v()}),L()}const M={};exports.bindPlugin=function(n,t){const e=n(t),{name:r,plugin:i}=e;return r&&i&&(i[r]=i),i},exports.config=function(n){p(n),I(),j()},exports.getPlugin=function(n){return M[n]||null},exports.pluginReact=function(n){class t extends n.Component{constructor(n){super(n),this.state={hasError:!1}}componentDidCatch(n,t){this.setState({hasError:!0})}render(){if(this.state.hasError){const{FallbackComponent:t}=this.props;return t?n.createElement(t,this.state):null}return this.props.children}}return{name:"react",plugin:t}},exports.setUserId=function(t){!function(t){n.userid=t}(t);let e=h();f(e,"ch")};
//# sourceMappingURL=bundle.es6.min.js.map
